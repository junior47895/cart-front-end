<div *ngIf="showMsg">
  <p *ngFor="let msg of messages">
    {{msg}}
  </p>
</div>
<div class="row">
  <div class="col-md-8" *ngIf="license" style="margin-top: 2em;">
    <div class="card bg-dark text-white"  >
      <div class="card-header"><h4>Verify license</h4></div>
        <div class="card-body">
        <form #customerForm="ngForm">
          <div class="form-group row">
            <label for="serialNumber" class="col-sm-8 col-form-label">Serial number:</label>
            <div class="col-sm-12">
              <input class="form-control"
              disabled
              type="number"
              name="serialNumber"
              id="serialNumber"
              placeholder="Serial number"
              [(ngModel)]="license.serialNumber"/>
            </div>
          </div>

          <div class="form-group row">
            <label for="company" class="col-sm-8 col-form-label">Company name:</label>
            <div class="col-sm-12">
              <input class="form-control"
              disabled
              type="text"
              name="company"
              id="company"
              placeholder="Company name"
              [(ngModel)]="license.company"/>
            </div>
          </div>

          <div class="form-group row">
            <label for="softwareName" class="col-sm-8 col-form-label">Software name:</label>
            <div class="col-sm-12">
              <input class="form-control"
              disabled
              type="text"
              name="softwareName"
              id="softwareName"
              placeholder="Software name"
              [(ngModel)]="license.softwareName"/>
            </div>
          </div>

          <div class="form-group row">
            <label for="licenseType" class="col-sm-8 col-form-label">License type:</label>
            <div class="col-sm-12">
              <input class="form-control"
              disabled
              type="text"
              name="licenseType"
              id="licenseType"
              placeholder="License type"
              [(ngModel)]="license.licenseType"/>
            </div>
          </div>

          <div class="form-group row">
            <label for="expirationDays" class="col-sm-8 col-form-label">License expiration days:</label>
            <div class="col-sm-12">
              <input class="form-control"
              disabled
              type="number"
              name="expirationDays"
              id="expirationDays"
              placeholder="License expiration days"
              [(ngModel)]="license.expirationDays"/>
            </div>
          </div>

          <div class="form-group row">
            <label for="licenseStatus" class="col-md-8 col-form-label">License status:</label>
            <div class="col-md-12">
              <input class="form-control"
              disabled
              type="licenseStatus"
              name="licenseStatus"
              id="licenseStatus"
              placeholder="License status"
              [(ngModel)]="license.licenseStatus"/>
            </div>
          </div>


          <div class="form-group row">
            <label for="creationDate" class="col-md-8 col-form-label">Creation date:</label>
            <div class="col-md-12">
              <input class="form-control"
              disabled
              type="creationDate"
              name="creationDate"
              id="creationDate"
              placeholder="Creation date"
              [(ngModel)]="license.creationDate"/>
            </div>
          </div>

          <div class="input-group mb-3" style="margin-top: 2em;">
            <div class="custom-file">
              <input (change)="selectFile($event)" type="file" class="custom-file-input" id="inputGroupFile04" aria-describedby="inputGroupFileAddon04">
              <label class="custom-file-label" for="inputGroupFile04">
                <span *ngIf="certificateKey != null">{{certificateKey.name}}</span>
              </label>
            </div>
            <div class="input-group-append">
              <button (click)="uploadFile()" class="btn btn-primary" type="button" id="inputGroupFileAddon04">Upload key</button>
            </div>
          </div>


          <div *ngIf="progressSelectFile > 0" class="progress" style="height: 40px;">
            <div class="progress-bar progress-bar-striped" role="progressbar" [ngStyle]="{width:progressSelectFile+'%'}" attr.aria-valuenow="{{progressSelectFile}}" aria-valuemin="0" aria-valuemax="100">
              {{progressSelectFile}}%
            </div>
          </div>


        </form>
      </div>
    </div>
  </div>
  <div class="col-md-4" *ngIf="keyVerify === 'verify'" style="margin-top: 2EM;">
    <div class="card border-success mb-3">
      <h5 class="card-header">Verified license</h5>
      <div class="card-body">
        <p class="card-text">The license with serial number <strong>{{license.serialNumber}}</strong> was verified correctly

      </div>
    </div>
  </div>

  <div class="col-md-4" *ngIf="keyVerify === 'error verify'" style="margin-top: 2EM;">
    <div class="card border-danger mb-3">
      <h5 class="card-header">Error everifying license </h5>
      <div class="card-body">
        <p class="card-text">The license with serial number <strong>{{license.serialNumber}}</strong> was not verified with error message

        <div class="alert alert-danger" role="alert">
           {{messageVerify}}
        </div>

      </div>
    </div>
  </div>


</div>

